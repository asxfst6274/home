<!DOCTYPE html>
<html lang="zxx">
  <%- include("includes/head.ejs") %>

  <body>
    <%- include("includes/navigation.ejs") %>

    <!-- Body-content -->
    <div class="body-content">
      <div class="mobile-screen">
        <%- include("../share/notice.ejs") %>
        <div
          class="section-header d-block tw-border-b-4 tw-border-red1 mb-3 pb-2"
        >
          <h2 class="text-center">Add New Card</h2>
        </div>
        <form action="/<%= editing ? 'edit-card' : 'card' %>" method="post">
          <input
            type="hidden"
            id="csrf"
            name="_csrf"
            value="<%= csrfToken %>"
          />
          <input
            type="hidden"
            id="cardId"
            name="cardId"
            value="<%= id %>"
          />
          <div class="bg-white p-3 rounded shadow mb-4">
            <div class="form-group mb-15" id="cardType">
              <label class="form-label">Card Type</label>
              <select
                class="form-control tw-bg-milk tw-bg-opacity-75 rounded tw-shadow-sm"
                name="type"
              >
                <option value="mastercard" <%= type === 'mastercard' ? 'selected' : '' %>>Mastercard</option>
                <option value="visa" <%= type === 'visa' ? 'selected' : '' %>>Visa</option>
              </select>
              <div class="message"></div>
            </div>
            <div class="form-group mb-15" id="name">
              <label class="form-label">Card Owner Name</label>
              <input
                name="name"
                type="text"
                class="form-control tw-bg-milk tw-bg-opacity-75 rounded tw-shadow-sm text-capitalize"
                placeholder="Card owner name"
                value="<%= name %>"
              />
              <div class="message"></div>
            </div>
            <div class="form-group mb-15" id="number">
              <label class="form-label">Card Number</label>
              <input
                name="number"
                type="number"
                class="form-control tw-bg-milk tw-bg-opacity-75 rounded tw-shadow-sm"
                placeholder="****  ****  ****  ****"
                value="<%= number %>"
              />
              <div class="message"></div>
            </div>
            <div class="form-group mb-15 overflow-hidden">
              <div class="row gx-2">
                <div class="col-6">
                  <label class="form-label">Expiry Date</label>
                  <div class="row gx-2">
                    <div class="col-6" id="month">
                      <select
                        class="form-control tw-bg-milk tw-bg-opacity-75 rounded tw-shadow-sm"
                        name="month"
                      >
                        <option value="">MM</option>
                        <% for(let i = 1; i <= 12; i ++){ %>
                        <option value="<%= i %>" <%= month == i ? 'selected' : '' %>>
                          <%= i.toString().padStart(2, '0') %>
                        </option>
                        <% } %>
                      </select>
                      <div class="message"></div>
                    </div>
                    <div class="col-6" id="year">
                      <select
                        class="form-control tw-bg-milk tw-bg-opacity-75 rounded tw-shadow-sm"
                        name="year"
                      >
                        <option value="">YY</option>
                        <% const year1 = new
                        Date().getFullYear().toString().slice(2) ; for(let i =
                        +year1; i <= +year1 + 10; i ++){ %>
                        <option value="<%= i %>" <%= year == i ? 'selected' : '' %>><%= i %></option>
                        <% } %>
                      </select>
                      <div class="message"></div>
                    </div>
                    <div class="col-12">
                      <div class="date-message"></div>
                    </div>
                  </div>
                </div>
                <div class="col-6" id="cvv">
                  <label class="form-label">CVV</label>
                  <input
                    name="cvv"
                    type="text"
                    class="form-control tw-bg-milk tw-bg-opacity-75 rounded tw-shadow-sm"
                    placeholder="123"
                    value="<%= cvv %>"
                  />
                  <div class="message"></div>
                </div>
              </div>
            </div>
            <button
              id="submitBtn"
              type="button"
              class="btn main-btn main-btn-lg full-width tw-bg-red2 my-3 tw-text-sm rounded tw-shadow-lg tw-shadow-red-200 mb-4"
            >
            <%= editing ? 'Save' : 'Add Card' %>
            </button>
          </div>
        </form>
      </div>
    </div>
    <!-- Body-content -->

    <%- include("includes/footer.ejs") %>
    <script src="/src/controllers/main/addCards.js" type="module"></script>
  </body>
</html>